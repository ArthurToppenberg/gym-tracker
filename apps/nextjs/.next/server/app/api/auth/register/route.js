(()=>{var e={};e.id=612,e.ids=[612],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1820:e=>{"use strict";e.exports=require("os")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>h,routeModule:()=>m,serverHooks:()=>v,workAsyncStorage:()=>g,workUnitAsyncStorage:()=>x});var s={};r.r(s),r.d(s,{POST:()=>l});var a=r(6849),i=r(9246),n=r(7109),o=r(7728),u=r(98),p=r(4516),d=r(7632);let c=p.z.object({name:p.z.string().min(2,"Name must be at least 2 characters"),email:p.z.string().email("Invalid email address"),password:p.z.string().min(8,"Password must be at least 8 characters")});async function l(e){try{let t=await e.json(),{name:r,email:s,password:a}=c.parse(t);if(await d.db.user.findUnique({where:{email:s}}))return o.NextResponse.json({message:"User with this email already exists"},{status:400});let i=await (0,u.tW)(a,12);return await d.db.user.create({data:{name:r,email:s,password:i}}),o.NextResponse.json({message:"User created successfully"},{status:201})}catch(e){if(e instanceof p.z.ZodError)return o.NextResponse.json({message:e.errors[0]?.message??"Invalid input"},{status:400});return o.NextResponse.json({message:"Something went wrong"},{status:500})}}let m=new a.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/auth/register/route",pathname:"/api/auth/register",filename:"route",bundlePath:"app/api/auth/register/route"},resolvedPagePath:"/Users/arthurtoppenberg/Documents/gym-tracker/apps/nextjs/src/app/api/auth/register/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:g,workUnitAsyncStorage:x,serverHooks:v}=m;function h(){return(0,n.patchFetch)({workAsyncStorage:g,workUnitAsyncStorage:x})}},5511:e=>{"use strict";e.exports=require("crypto")},6330:e=>{"use strict";e.exports=require("@prisma/client")},6641:()=>{},6681:(e,t,r)=>{"use strict";r.d(t,{_:()=>n});var s=r(5622),a=r(6868),i=r(4516);(0,a.config)({path:"../../.env"});let n=(0,s.w)({server:{DATABASE_URL:i.z.string().url(),NODE_ENV:i.z.enum(["development","test","production"]).default("development")},client:{NEXT_PUBLIC_NODE_ENV:i.z.enum(["development","test","production"]).default("development")},runtimeEnv:{DATABASE_URL:process.env.DATABASE_URL,NODE_ENV:"production",NEXT_PUBLIC_NODE_ENV:"production"},skipValidation:!!process.env.SKIP_ENV_VALIDATION,emptyStringAsUndefined:!0})},6849:(e,t,r)=>{"use strict";e.exports=r(4870)},7313:()=>{},7632:(e,t,r)=>{"use strict";r.d(t,{db:()=>n});var s=r(6330),a=r(6681);let i=globalThis,n=i.prisma??new s.PrismaClient({log:"development"===a._.NODE_ENV?["query","error","warn"]:["error"]});"production"!==a._.NODE_ENV&&(i.prisma=n)},9021:e=>{"use strict";e.exports=require("fs")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[491,946],()=>r(5055));module.exports=s})();